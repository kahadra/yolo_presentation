<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YOLO Evolution Presentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #333;
            font-family: 'Noto Sans KR', sans-serif;
        }
        #viewer {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #slide-container {
            position: relative;
            /* 수정된 부분: transform-origin을 center로 변경 */
            transform-origin: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            /* iframe의 기본 크기를 명시합니다 */
            width: 1280px;
            height: 720px;
        }
        #slide-frame {
            width: 100%;
            height: 100%;
            border: none;
        }
        #controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            z-index: 100;
            opacity: 0.8;
            transition: opacity 0.3s;
        }
        #controls:hover {
            opacity: 1;
        }
        #controls button {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }
        #slide-counter {
            font-size: 18px;
            font-weight: 500;
        }
    </style>
</head>
<body>

    <div id="viewer">
        <div id="slide-container">
            <iframe id="slide-frame" src=""></iframe>
        </div>
    </div>

    <div id="controls">
        <button id="prev-btn"><i class="fas fa-arrow-left"></i></button>
        <div id="slide-counter">0 / 0</div>
        <button id="next-btn"><i class="fas fa-arrow-right"></i></button>
        <button id="fullscreen-btn"><i class="fas fa-expand"></i></button>
    </div>

    <script>
        const slideFiles = [
            "yolo (1).html", "yolo (2).html", "yolo (3).html", "yolo (4).html",
            "yolo (5).html", "yolo (6).html", "yolo (7).html", "yolo (8).html",
            "yolo (9).html", "yolo (10).html", "yolo (11).html", "yolo (12).html",
            "yolo (13).html", "yolo (14).html", "yolo (15).html", "yolo (16).html",
            "yolo (17).html", "yolo (18).html", "yolo (19).html", "yolo (20).html",
            "yolo (21).html", "yolo (22).html"
        ];

        const slideFrame = document.getElementById('slide-frame');
        const slideCounter = document.getElementById('slide-counter');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const fullscreenBtn = document.getElementById('fullscreen-btn');
        const slideContainer = document.getElementById('slide-container');

        let currentSlideIndex = 0;
        const totalSlides = slideFiles.length;

        function loadSlide(index) {
            if (index >= 0 && index < totalSlides) {
                currentSlideIndex = index;
                slideFrame.src = `src/${slideFiles[index]}`;
                updateCounter();
            }
        }

        function updateCounter() {
            slideCounter.textContent = `${currentSlideIndex + 1} / ${totalSlides}`;
        }

        function prevSlide() { loadSlide(currentSlideIndex - 1); }
        function nextSlide() { loadSlide(currentSlideIndex + 1); }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else if (document.exitFullscreen) {
                document.exitFullscreen();
            }
        }
        
        function resizeViewer() {
            const viewer = document.getElementById('viewer');
            const { clientWidth, clientHeight } = viewer;
            const scale = Math.min(clientWidth / 1280, clientHeight / 720);
            slideContainer.style.transform = `scale(${scale})`;
        }

        prevBtn.addEventListener('click', prevSlide);
        nextBtn.addEventListener('click', nextSlide);
        fullscreenBtn.addEventListener('click', toggleFullscreen);

        window.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') prevSlide();
            else if (e.key === 'ArrowRight') nextSlide();
            else if (e.key.toLowerCase() === 'f') toggleFullscreen();
        });
        
        window.addEventListener('resize', resizeViewer);

        loadSlide(0);
        resizeViewer();
    </script>
</body>
</html>